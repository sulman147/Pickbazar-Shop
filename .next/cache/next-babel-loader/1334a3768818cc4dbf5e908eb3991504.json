{"ast":null,"code":"import Currency from 'currency.js';\nimport { getLocalState } from './localStorage';\nexport var getCartProducts = function getCartProducts() {\n  var products = getLocalState('cart');\n  return products ? products : [];\n};\nexport var getTotalPrice = function getTotalPrice() {\n  var price = getLocalState('totalPrice');\n  return price ? price : 0;\n};\nexport var getCoupon = function getCoupon() {\n  var coupon = getLocalState('coupon');\n  if (coupon) return coupon;\n  return {\n    id: 0,\n    code: 'DEFAULT_COUPON',\n    discountInPercent: 0\n  };\n};\nexport var getDiscount = function getDiscount() {\n  var discount = getLocalState('discount');\n  return discount ? discount : 0;\n};\nexport var getSubTotalPrice = function getSubTotalPrice() {\n  var price = getLocalState('subTotalPrice');\n  return price ? price : 0;\n}; // export const getCartProducts = (context: any) => {\n//   try {\n//     const products = JSON.parse(getCookie('cart', context));\n//     if (products && products.length) {\n//       return products;\n//     } else {\n//       return [];\n//     }\n//   } catch (error) {\n//     return 0;\n//   }\n// };\n// export const getTotalPrice = (context: any) => {\n//   try {\n//     const price = JSON.parse(getCookie('totalPrice', context));\n//     return price;\n//   } catch (error) {\n//     return 0;\n//   }\n// };\n// export const getSubTotalPrice = (context: any) => {\n//   try {\n//     const price = JSON.parse(getCookie('subTotalPrice', context));\n//     return price;\n//   } catch (error) {\n//     return 0;\n//   }\n// };\n// export const getDiscount = (context: any) => {\n//   try {\n//     const discount = getCookie('discount', context);\n//     return discount || 0;\n//   } catch (error) {\n//     return 0;\n//   }\n// };\n// export const getCoupon = (context: any) => {\n//   try {\n//     const coupon = JSON.parse(getCookie('coupon', context));\n//     return coupon;\n//   } catch (error) {\n//     return {\n//       id: 0,\n//       code: 'DEFAULT_COUPON',\n//       discountInPercent: 0,\n//     };\n//   }\n// };\n\nexport var findProductIndex = function findProductIndex(cartProducts, dataId) {\n  var index = -1;\n\n  if (cartProducts && cartProducts.length) {\n    index = cartProducts.findIndex(function (product) {\n      return product.id === dataId;\n    });\n  }\n\n  return index;\n};\nexport var getProductQuantity = function getProductQuantity(cartProducts, index) {\n  var quantity = 0;\n\n  if (index !== -1) {\n    quantity = cartProducts[index].quantity;\n  }\n\n  return quantity;\n};\nexport var calculateItemPrice = function calculateItemPrice(product) {\n  var quantity = product.quantity ? product.quantity : 1;\n  var price = product.salePrice ? product.salePrice : product.price;\n  var itemPrice = Currency(quantity).multiply(price);\n  var itemPriceValue = Number(itemPrice.value);\n  return itemPriceValue;\n};\nexport var calculateTotalPrice = function calculateTotalPrice(products) {\n  var total = Currency(0);\n  products.forEach(function (product) {\n    var quantity = product.quantity ? product.quantity : 1;\n    var price = product.salePrice ? product.salePrice : product.price;\n    var itemPrice = Currency(quantity).multiply(price);\n    total = Currency(total).add(itemPrice);\n  });\n  var totalPrice = Number(total.value);\n  return totalPrice;\n};\nexport var modifyaddressData = function modifyaddressData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var radioData = [];\n  data.forEach(function (item) {\n    radioData.push({\n      id: item.id,\n      title: item.name,\n      value: \"\".concat(item.name, \"-\").concat(item.id),\n      label: item.info,\n      disabled: disabled\n    });\n  });\n  return radioData;\n};\nexport var modifyContactData = function modifyContactData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var radioData = [];\n  data.forEach(function (item) {\n    radioData.push({\n      id: item.id,\n      title: item.type === 'primary' ? 'Primary' : 'Secondary',\n      value: \"\".concat(item.number, \"-\").concat(item.id),\n      label: item.number,\n      disabled: disabled\n    });\n  });\n  return radioData;\n};\nexport var modifyCardData = function modifyCardData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var mobileWallet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var cashOnDelivery = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var cardData = [];\n  data.forEach(function (item) {\n    cardData.push({\n      id: item.id,\n      type: item.type,\n      cardNumber: item.lastFourDigit,\n      cardName: item.name,\n      disabled: disabled\n    });\n  });\n  var paymentOptionData = {\n    showCard: true,\n    mobileWallet: mobileWallet,\n    cashOnDelivery: cashOnDelivery,\n    addedCard: cardData\n  };\n  return paymentOptionData;\n};\nexport var cartAnimation = function cartAnimation(event) {\n  var getClosest = function getClosest(elem, selector) {\n    for (; elem && elem !== document; elem = elem.parentNode) {\n      if (elem.matches(selector)) return elem;\n    }\n\n    return null;\n  }; // start animation block\n\n\n  var imgtodrag = getClosest(event.target, '.product-card'); // console.log(imgtodrag, 'Image To Drag');\n\n  var viewcart = document.getElementsByClassName('product-cart')[0];\n  var imgtodragImage = imgtodrag.querySelector('.product-image'); // console.log(imgtodragImage, 'imgtodragImage Drag');\n\n  var disLeft = imgtodrag.getBoundingClientRect().left;\n  var disTop = imgtodrag.getBoundingClientRect().top;\n  var cartleft = viewcart.getBoundingClientRect().left;\n  var carttop = viewcart.getBoundingClientRect().top;\n  var image = imgtodragImage.cloneNode(true);\n  image.style = 'z-index: 11111; width: 100px;opacity:1; position:fixed; top:' + disTop + 'px;left:' + disLeft + 'px;transition: left 1s, top 1s, width 1s, opacity 1s cubic-bezier(1, 1, 1, 1);border-radius: 50px; overflow: hidden; box-shadow: 0 21px 36px rgba(0,0,0,0.1)';\n  var rechange = document.body.appendChild(image);\n  setTimeout(function () {\n    image.style.left = cartleft + 'px';\n    image.style.top = carttop + 'px';\n    image.style.width = '40px';\n    image.style.opacity = '0';\n  }, 200);\n  setTimeout(function () {\n    rechange.parentNode.removeChild(rechange);\n  }, 1000); // End Animation Block\n};","map":null,"metadata":{},"sourceType":"module"}