{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useReducer, useEffect } from 'react';\nimport LanguageContext from './language.context';\nimport languageReducer, { initialState } from './language.reducer';\nimport { IntlProvider } from 'react-intl';\nimport { StyleSheetManager } from 'styled-components';\nimport rtlPlugin from 'stylis-plugin-rtl';\nimport { InjectRTL } from 'styled/global.style';\n\nconst LanguageProvider = ({\n  children,\n  messages\n}) => {\n  const {\n    0: state,\n    1: dispatch\n  } = useReducer(languageReducer, initialState);\n\n  const toggleLanguage = lang => {\n    dispatch({\n      type: 'CURRENT_LANGUAGE',\n      payload: lang\n    });\n    localStorage.setItem('lang', lang);\n  };\n\n  useEffect(() => {\n    const localLang = localStorage.getItem('lang');\n\n    if (localLang) {\n      toggleLanguage(localLang);\n    } else {\n      toggleLanguage(navigator.language.split('-')[0]);\n    }\n  }, []);\n  let isRtl = state.lang === 'ar' || state.lang === 'he' ? true : false;\n  return __jsx(LanguageContext.Provider, {\n    value: {\n      state,\n      toggleLanguage,\n      dispatch\n    }\n  }, __jsx(IntlProvider, {\n    locale: state.lang,\n    messages: messages[state.lang]\n  }, __jsx(InjectRTL, {\n    lang: state.lang,\n    dir: state.lang === 'ar' || state.lang === 'he' ? 'rtl' : 'ltr'\n  }, isRtl ? __jsx(StyleSheetManager, {\n    stylisPlugins: [rtlPlugin]\n  }, children) : children)));\n};\n\nexport default LanguageProvider;","map":null,"metadata":{},"sourceType":"module"}