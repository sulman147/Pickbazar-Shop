{"ast":null,"code":"var __jsx = React.createElement;\nimport InputSearch from './Input';\nimport React, { useEffect, useRef, useState } from 'react';\nimport SearchResults from './SearchResults';\nimport SearchWrapper, { SearchBoxWrapper, CurrentType } from './SearchBox.style';\nimport { SearchIcon } from '../AllSvgIcon';\n\nvar Search = function Search(_ref) {\n  var suggestions = _ref.suggestions,\n      buttonText = _ref.buttonText,\n      buttonIcon = _ref.buttonIcon,\n      inputStyle = _ref.inputStyle,\n      style = _ref.style,\n      bordered = _ref.bordered,\n      hideType = _ref.hideType,\n      showSvg = _ref.showSvg,\n      autoSuggestion = _ref.autoSuggestion,\n      placeholder = _ref.placeholder,\n      className = _ref.className,\n      handleSearch = _ref.handleSearch,\n      _onClick = _ref.onClick,\n      value = _ref.value,\n      expand = _ref.expand,\n      minimal = _ref.minimal,\n      pathname = _ref.pathname;\n\n  var _useState = useState(),\n      searchValue = _useState[0],\n      setSearchValue = _useState[1];\n\n  var _useState2 = useState(false),\n      toggleSuggestion = _useState2[0],\n      setToggleSuggestion = _useState2[1];\n\n  var _useState3 = useState(false),\n      toggleSearch = _useState3[0],\n      setToggleSearch = _useState3[1];\n\n  var searchRef = useRef(null);\n  useEffect(function () {\n    document.addEventListener('click', handleClickOutside, false);\n    return function () {\n      document.removeEventListener('click', handleClickOutside, false);\n    };\n  }, []);\n\n  var handleSearchInput = function handleSearchInput(event) {\n    setSearchValue(event.target.value);\n    setToggleSuggestion(true);\n    handleSearch(event.target.value);\n  };\n\n  var ucwords = function ucwords(str) {\n    var newString = str.replace(/\\//g, '');\n    var humanString = newString.replace(/-/g, ' ');\n    return (humanString + '').replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n      return $1.toUpperCase();\n    });\n  };\n\n  var setSuggestion = function setSuggestion(suggestion) {\n    setSearchValue(suggestion);\n    setToggleSuggestion(false);\n  };\n\n  var handleClickOutside = function handleClickOutside(event) {\n    if (searchRef.current && !searchRef.current.contains(event.target)) {\n      setToggleSuggestion(false);\n      setToggleSearch(false);\n    }\n  };\n\n  var onClearBtnClick = function onClearBtnClick() {\n    setSearchValue('');\n  };\n\n  return __jsx(SearchWrapper, {\n    className: className,\n    ref: searchRef,\n    style: style,\n    autoSuggestion: autoSuggestion,\n    hideType: hideType,\n    expand: expand\n  }, __jsx(SearchBoxWrapper, {\n    className: \"\".concat(hideType ? 'hideType' : '', \" \").concat(expand === true ? toggleSearch ? 'expanded' : 'collapsed' : '', \" \").concat(minimal === true ? 'minimal' : '')\n  }, pathname && pathname !== '/' ? __jsx(CurrentType, null, ucwords(pathname)) : __jsx(CurrentType, null, \"Grocery\"), __jsx(InputSearch, {\n    type: \"text\",\n    value: value,\n    onChange: handleSearchInput,\n    onFocus: function onFocus() {\n      return setToggleSearch(true);\n    },\n    onBlur: function onBlur() {\n      return setToggleSearch(false);\n    },\n    buttonIcon: buttonIcon,\n    buttonText: buttonText,\n    placeholder: placeholder,\n    style: inputStyle,\n    bordered: bordered,\n    showSvg: showSvg,\n    onClick: function onClick() {\n      return _onClick(searchValue);\n    }\n  })), autoSuggestion && toggleSuggestion ? __jsx(SearchResults, {\n    suggestions: suggestions,\n    clearSearch: onClearBtnClick,\n    setSuggestionValue: function setSuggestionValue(suggestion) {\n      return setSuggestion(suggestion);\n    }\n  }) : null);\n};\n\nSearch.defaultProps = {\n  bordered: false,\n  autoSuggestion: false,\n  buttonText: 'Search',\n  buttonIcon: __jsx(SearchIcon, null),\n  placeholder: 'Search your products from here',\n  inputStyle: {\n    width: '100%'\n  }\n};\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}