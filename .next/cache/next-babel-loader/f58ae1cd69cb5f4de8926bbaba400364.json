{"ast":null,"code":"import Currency from 'currency.js';\nimport { getCookie } from './session';\nexport var getCartProducts = function getCartProducts(context) {\n  try {\n    var products = JSON.parse(getCookie('cart', context));\n\n    if (products && products.length) {\n      return products;\n    } else {\n      return [];\n    }\n  } catch (error) {\n    return 0;\n  }\n};\nexport var getTotalPrice = function getTotalPrice(context) {\n  try {\n    var price = JSON.parse(getCookie('totalPrice', context));\n    return price;\n  } catch (error) {\n    return 0;\n  }\n};\nexport var findProductIndex = function findProductIndex(cartProducts, dataId) {\n  var index = -1;\n\n  if (cartProducts && cartProducts.length) {\n    index = cartProducts.findIndex(function (product) {\n      return product.id === dataId;\n    });\n  }\n\n  return index;\n};\nexport var getProductQuantity = function getProductQuantity(cartProducts, index) {\n  var quantity = 0;\n\n  if (index !== -1) {\n    quantity = cartProducts[index].quantity;\n  }\n\n  return quantity;\n};\nexport var calculateItemPrice = function calculateItemPrice(product) {\n  var quantity = product.quantity ? product.quantity : 1;\n  var itemPrice = Currency(quantity).multiply(product.price);\n  var itemPriceValue = Number(itemPrice.value);\n  return itemPriceValue;\n};\nexport var calculateTotalPrice = function calculateTotalPrice(products) {\n  var total = Currency(0);\n  products.forEach(function (product) {\n    var quantity = product.quantity ? product.quantity : 1;\n    var itemPrice = Currency(quantity).multiply(product.price);\n    total = Currency(total).add(itemPrice);\n  });\n  var totalPrice = Number(total.value);\n  return totalPrice;\n};\nexport var modifyaddressData = function modifyaddressData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var radioData = [];\n  data.forEach(function (item) {\n    radioData.push({\n      id: item.id,\n      title: item.name,\n      value: \"\".concat(item.name, \"-\").concat(item.id),\n      label: item.info,\n      disabled: disabled\n    });\n  });\n  return radioData;\n};\nexport var modifyContactData = function modifyContactData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var radioData = [];\n  data.forEach(function (item) {\n    radioData.push({\n      id: item.id,\n      title: item.type === 'primary' ? 'Primary' : 'Secondary',\n      value: \"\".concat(item.number, \"-\").concat(item.id),\n      label: item.number,\n      disabled: disabled\n    });\n  });\n  return radioData;\n};\nexport var modifyCardData = function modifyCardData(data) {\n  var disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var mobileWallet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var cashOnDelivery = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var cardData = [];\n  data.forEach(function (item) {\n    cardData.push({\n      id: item.id,\n      type: item.type,\n      cardNumber: item.lastFourDigit,\n      cardName: item.name,\n      disabled: disabled\n    });\n  });\n  var paymentOptionData = {\n    showCard: true,\n    mobileWallet: mobileWallet,\n    cashOnDelivery: cashOnDelivery,\n    addedCard: cardData\n  };\n  return paymentOptionData;\n};","map":{"version":3,"sources":["E:/React Web Work/pickbazar/packages/shop/components/helpers/utility.ts"],"names":["Currency","getCookie","getCartProducts","context","products","JSON","parse","length","error","getTotalPrice","price","findProductIndex","cartProducts","dataId","index","findIndex","product","id","getProductQuantity","quantity","calculateItemPrice","itemPrice","multiply","itemPriceValue","Number","value","calculateTotalPrice","total","forEach","add","totalPrice","modifyaddressData","data","disabled","radioData","item","push","title","name","label","info","modifyContactData","type","number","modifyCardData","mobileWallet","cashOnDelivery","cardData","cardNumber","lastFourDigit","cardName","paymentOptionData","showCard","addedCard"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,aAArB;AACA,SAASC,SAAT,QAA0B,WAA1B;AAQA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAkB;AAC/C,MAAI;AACF,QAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,SAAS,CAAC,MAAD,EAASE,OAAT,CAApB,CAAjB;;AACA,QAAIC,QAAQ,IAAIA,QAAQ,CAACG,MAAzB,EAAiC;AAC/B,aAAOH,QAAP;AACD,KAFD,MAEO;AACL,aAAO,EAAP;AACD;AACF,GAPD,CAOE,OAAOI,KAAP,EAAc;AACd,WAAO,CAAP;AACD;AACF,CAXM;AAaP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACN,OAAD,EAAkB;AAC7C,MAAI;AACF,QAAMO,KAAK,GAAGL,IAAI,CAACC,KAAL,CAAWL,SAAS,CAAC,YAAD,EAAeE,OAAf,CAApB,CAAd;AACA,WAAOO,KAAP;AACD,GAHD,CAGE,OAAOF,KAAP,EAAc;AACd,WAAO,CAAP;AACD;AACF,CAPM;AASP,OAAO,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAC9BC,YAD8B,EAE9BC,MAF8B,EAGnB;AACX,MAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,MAAIF,YAAY,IAAIA,YAAY,CAACL,MAAjC,EAAyC;AACvCO,IAAAA,KAAK,GAAGF,YAAY,CAACG,SAAb,CAAuB,UAAAC,OAAO;AAAA,aAAIA,OAAO,CAACC,EAAR,KAAeJ,MAAnB;AAAA,KAA9B,CAAR;AACD;;AACD,SAAOC,KAAP;AACD,CATM;AAWP,OAAO,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAChCN,YADgC,EAEhCE,KAFgC,EAGrB;AACX,MAAIK,QAAQ,GAAG,CAAf;;AACA,MAAIL,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBK,IAAAA,QAAQ,GAAGP,YAAY,CAACE,KAAD,CAAZ,CAAoBK,QAA/B;AACD;;AACD,SAAOA,QAAP;AACD,CATM;AAWP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACJ,OAAD,EAAkC;AAClE,MAAMG,QAAQ,GAAGH,OAAO,CAACG,QAAR,GAAmBH,OAAO,CAACG,QAA3B,GAAsC,CAAvD;AACA,MAAME,SAAS,GAAGrB,QAAQ,CAACmB,QAAD,CAAR,CAAmBG,QAAnB,CAA4BN,OAAO,CAACN,KAApC,CAAlB;AACA,MAAMa,cAAsB,GAAGC,MAAM,CAACH,SAAS,CAACI,KAAX,CAArC;AACA,SAAOF,cAAP;AACD,CALM;AAOP,OAAO,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACtB,QAAD,EAAqC;AACtE,MAAIuB,KAAK,GAAG3B,QAAQ,CAAC,CAAD,CAApB;AACAI,EAAAA,QAAQ,CAACwB,OAAT,CAAiB,UAAAZ,OAAO,EAAI;AAC1B,QAAMG,QAAQ,GAAGH,OAAO,CAACG,QAAR,GAAmBH,OAAO,CAACG,QAA3B,GAAsC,CAAvD;AACA,QAAME,SAAS,GAAGrB,QAAQ,CAACmB,QAAD,CAAR,CAAmBG,QAAnB,CAA4BN,OAAO,CAACN,KAApC,CAAlB;AACAiB,IAAAA,KAAK,GAAG3B,QAAQ,CAAC2B,KAAD,CAAR,CAAgBE,GAAhB,CAAoBR,SAApB,CAAR;AACD,GAJD;AAKA,MAAMS,UAAkB,GAAGN,MAAM,CAACG,KAAK,CAACF,KAAP,CAAjC;AACA,SAAOK,UAAP;AACD,CATM;AAWP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAiC;AAAA,MAArBC,QAAqB,uEAAV,KAAU;AAChE,MAAIC,SAA0B,GAAG,EAAjC;AACAF,EAAAA,IAAI,CAACJ,OAAL,CAAa,UAACO,IAAD,EAAe;AAC1BD,IAAAA,SAAS,CAACE,IAAV,CAAe;AACbnB,MAAAA,EAAE,EAAEkB,IAAI,CAAClB,EADI;AAEboB,MAAAA,KAAK,EAAEF,IAAI,CAACG,IAFC;AAGbb,MAAAA,KAAK,YAAKU,IAAI,CAACG,IAAV,cAAkBH,IAAI,CAAClB,EAAvB,CAHQ;AAIbsB,MAAAA,KAAK,EAAEJ,IAAI,CAACK,IAJC;AAKbP,MAAAA,QAAQ,EAARA;AALa,KAAf;AAOD,GARD;AASA,SAAOC,SAAP;AACD,CAZM;AAcP,OAAO,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACT,IAAD,EAAiC;AAAA,MAArBC,QAAqB,uEAAV,KAAU;AAChE,MAAIC,SAA0B,GAAG,EAAjC;AACAF,EAAAA,IAAI,CAACJ,OAAL,CAAa,UAACO,IAAD,EAAe;AAC1BD,IAAAA,SAAS,CAACE,IAAV,CAAe;AACbnB,MAAAA,EAAE,EAAEkB,IAAI,CAAClB,EADI;AAEboB,MAAAA,KAAK,EAAEF,IAAI,CAACO,IAAL,KAAc,SAAd,GAA0B,SAA1B,GAAsC,WAFhC;AAGbjB,MAAAA,KAAK,YAAKU,IAAI,CAACQ,MAAV,cAAoBR,IAAI,CAAClB,EAAzB,CAHQ;AAIbsB,MAAAA,KAAK,EAAEJ,IAAI,CAACQ,MAJC;AAKbV,MAAAA,QAAQ,EAARA;AALa,KAAf;AAOD,GARD;AASA,SAAOC,SAAP;AACD,CAZM;AAcP,OAAO,IAAMU,cAAc,GAAG,SAAjBA,cAAiB,CAC5BZ,IAD4B,EAKzB;AAAA,MAHHC,QAGG,uEAHQ,KAGR;AAAA,MAFHY,YAEG,uEAFY,IAEZ;AAAA,MADHC,cACG,uEADc,IACd;AACH,MAAIC,QAAoB,GAAG,EAA3B;AACAf,EAAAA,IAAI,CAACJ,OAAL,CAAa,UAACO,IAAD,EAAe;AAC1BY,IAAAA,QAAQ,CAACX,IAAT,CAAc;AACZnB,MAAAA,EAAE,EAAEkB,IAAI,CAAClB,EADG;AAEZyB,MAAAA,IAAI,EAAEP,IAAI,CAACO,IAFC;AAGZM,MAAAA,UAAU,EAAEb,IAAI,CAACc,aAHL;AAIZC,MAAAA,QAAQ,EAAEf,IAAI,CAACG,IAJH;AAKZL,MAAAA,QAAQ,EAARA;AALY,KAAd;AAOD,GARD;AASA,MAAMkB,iBAAoC,GAAG;AAC3CC,IAAAA,QAAQ,EAAE,IADiC;AAE3CP,IAAAA,YAAY,EAAEA,YAF6B;AAG3CC,IAAAA,cAAc,EAAEA,cAH2B;AAI3CO,IAAAA,SAAS,EAAEN;AAJgC,GAA7C;AAMA,SAAOI,iBAAP;AACD,CAvBM","sourcesContent":["import Currency from 'currency.js';\nimport { getCookie } from './session';\nimport {\n  CartProduct,\n  CardType,\n  RadioDataType,\n  PaymentOptionType,\n} from './interfaces';\n\nexport const getCartProducts = (context: any) => {\n  try {\n    const products = JSON.parse(getCookie('cart', context));\n    if (products && products.length) {\n      return products;\n    } else {\n      return [];\n    }\n  } catch (error) {\n    return 0;\n  }\n};\n\nexport const getTotalPrice = (context: any) => {\n  try {\n    const price = JSON.parse(getCookie('totalPrice', context));\n    return price;\n  } catch (error) {\n    return 0;\n  }\n};\n\nexport const findProductIndex = (\n  cartProducts: CartProduct[],\n  dataId: number\n): number => {\n  let index = -1;\n  if (cartProducts && cartProducts.length) {\n    index = cartProducts.findIndex(product => product.id === dataId);\n  }\n  return index;\n};\n\nexport const getProductQuantity = (\n  cartProducts: CartProduct[],\n  index: number\n): number => {\n  let quantity = 0;\n  if (index !== -1) {\n    quantity = cartProducts[index].quantity;\n  }\n  return quantity;\n};\n\nexport const calculateItemPrice = (product: CartProduct): number => {\n  const quantity = product.quantity ? product.quantity : 1;\n  const itemPrice = Currency(quantity).multiply(product.price);\n  const itemPriceValue: number = Number(itemPrice.value);\n  return itemPriceValue;\n};\n\nexport const calculateTotalPrice = (products: CartProduct[]): number => {\n  let total = Currency(0);\n  products.forEach(product => {\n    const quantity = product.quantity ? product.quantity : 1;\n    const itemPrice = Currency(quantity).multiply(product.price);\n    total = Currency(total).add(itemPrice);\n  });\n  const totalPrice: number = Number(total.value);\n  return totalPrice;\n};\n\nexport const modifyaddressData = (data: any, disabled = false) => {\n  let radioData: RadioDataType[] = [];\n  data.forEach((item: any) => {\n    radioData.push({\n      id: item.id,\n      title: item.name,\n      value: `${item.name}-${item.id}`,\n      label: item.info,\n      disabled,\n    });\n  });\n  return radioData;\n};\n\nexport const modifyContactData = (data: any, disabled = false) => {\n  let radioData: RadioDataType[] = [];\n  data.forEach((item: any) => {\n    radioData.push({\n      id: item.id,\n      title: item.type === 'primary' ? 'Primary' : 'Secondary',\n      value: `${item.number}-${item.id}`,\n      label: item.number,\n      disabled,\n    });\n  });\n  return radioData;\n};\n\nexport const modifyCardData = (\n  data: any,\n  disabled = false,\n  mobileWallet = true,\n  cashOnDelivery = true\n) => {\n  let cardData: CardType[] = [];\n  data.forEach((item: any) => {\n    cardData.push({\n      id: item.id,\n      type: item.type,\n      cardNumber: item.lastFourDigit,\n      cardName: item.name,\n      disabled,\n    });\n  });\n  const paymentOptionData: PaymentOptionType = {\n    showCard: true,\n    mobileWallet: mobileWallet,\n    cashOnDelivery: cashOnDelivery,\n    addedCard: cardData,\n  };\n  return paymentOptionData;\n};\n"]},"metadata":{},"sourceType":"module"}