{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { openModal } from '@redq/reuse-modal';\nimport NavLink from 'components/NavLink/NavLink';\nimport Popover from 'components/Popover/Popover';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport AuthenticationForm from '../../SignInOutForm/Form';\nimport { FormattedMessage } from 'react-intl';\nimport Button from 'components/Button/Button';\nimport LanguageContext from 'contexts/language/language.context';\nimport { FruitsVegetable, MenuDown, FacialCare, DressIcon, Handbag, HelpIcon, BookIcon, FurnitureIcon, DEFlag, CNFlag, USFlag, ILFlag, ESFlag, SAFlag } from 'components/AllSvgIcon';\nimport HeaderWrapper, { HeaderLeftSide, HeaderRightSide, Logo, MainMenu, SelectedType, DropDownArrow, SelectedLang, LanguageItem, LangSwithcer, Flag, TypeIcon } from './Header.style';\nimport Logoimage from 'image/logo.svg';\nimport UserImage from 'image/user.jpg';\nimport { HOME_PAGE, GROCERY_PAGE, CLOTHING, MAKEUP_PAGE, BAGS_PAGE, FURNITURE_PAGE, BOOK_PAGE, PROCEED_TO_CHECKOUT_PAGE, PROFILE_PAGE, ORDER_RECEIVED, YOUR_ORDER, OFFER_PAGE, HELP_PAGE } from 'constants/navigation';\nvar MenuArray = [{\n  link: GROCERY_PAGE,\n  icon: __jsx(FruitsVegetable, null),\n  label: 'Grocery'\n}, {\n  link: MAKEUP_PAGE,\n  label: 'Makeup',\n  icon: __jsx(FacialCare, null)\n}, {\n  link: BAGS_PAGE,\n  label: 'Bags',\n  icon: __jsx(Handbag, null)\n}, {\n  link: CLOTHING,\n  label: 'Clothing',\n  icon: __jsx(DressIcon, null)\n}, {\n  link: FURNITURE_PAGE,\n  label: 'Furniture',\n  icon: __jsx(FurnitureIcon, {\n    width: \"15px\",\n    height: \"13px\"\n  })\n}, {\n  link: BOOK_PAGE,\n  label: 'Book',\n  icon: __jsx(BookIcon, {\n    width: \"15px\",\n    height: \"13px\"\n  })\n}];\nvar DropDownMenuArray = [{\n  link: PROFILE_PAGE,\n  label: 'Profile',\n  intlId: 'navlinkProfile'\n}, {\n  link: PROCEED_TO_CHECKOUT_PAGE,\n  label: 'Checkout',\n  intlId: 'navlinkCheckout'\n}, {\n  link: YOUR_ORDER,\n  label: 'Order',\n  intlId: 'sidebarYourOrder'\n}, {\n  link: ORDER_RECEIVED,\n  label: 'Order invoice',\n  intlId: 'navlinkOrderReceived'\n}];\nvar LanguageArray = [{\n  id: 'ar',\n  label: 'Arabic',\n  intlLangName: 'intlArabic',\n  icon: __jsx(SAFlag, null)\n}, {\n  id: 'zh',\n  label: 'Chinese',\n  intlLangName: 'intlChinese',\n  icon: __jsx(CNFlag, null)\n}, {\n  id: 'en',\n  label: 'English',\n  intlLangName: 'intlEnglish',\n  icon: __jsx(USFlag, null)\n}, {\n  id: 'de',\n  label: 'German',\n  intlLangName: 'intlGerman',\n  icon: __jsx(DEFlag, null)\n}, {\n  id: 'he',\n  label: 'Hebrew',\n  intlLangName: 'intlHebrew',\n  icon: __jsx(ILFlag, null)\n}, {\n  id: 'es',\n  label: 'Spanish',\n  intlLangName: 'intlSpanish',\n  icon: __jsx(ESFlag, null)\n}];\n\nvar Header = function Header(_ref) {\n  var style = _ref.style,\n      className = _ref.className,\n      token = _ref.token,\n      pathname = _ref.pathname;\n\n  var _useContext = useContext(LanguageContext),\n      lang = _useContext.state.lang,\n      toggleLanguage = _useContext.toggleLanguage;\n\n  var activeMenuItem = MenuArray.find(function (item) {\n    return item.link === pathname;\n  });\n  var selectedLangindex = LanguageArray.findIndex(function (x) {\n    return x.id === lang;\n  });\n\n  var _useContext2 = useContext(AuthContext),\n      isAuthenticated = _useContext2.authState.isAuthenticated,\n      authDispatch = _useContext2.authDispatch;\n\n  var _useContext3 = useContext(SearchContext),\n      state = _useContext3.state,\n      dispatch = _useContext3.dispatch;\n\n  var _useState = useState(activeMenuItem || {\n    link: GROCERY_PAGE,\n    icon: __jsx(FruitsVegetable, null),\n    label: 'Grocery'\n  }),\n      activeMenu = _useState[0],\n      setActiveMenu = _useState[1];\n\n  var text = state.text;\n\n  var _handleSearch = function handleSearch(text) {\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread({}, state, {\n        text: text\n      })\n    });\n  };\n\n  var page = state.page,\n      urlState = _objectWithoutProperties(state, [\"page\"]);\n\n  var handleClickSearchButton = function handleClickSearchButton() {\n    Router.push({\n      pathname: pathname === '/' ? '/grocery' : pathname,\n      query: _objectSpread({}, urlState, {\n        text: text\n      })\n    });\n  };\n\n  var handleLogout = function handleLogout() {\n    if (true) {\n      localStorage.removeItem('access_token');\n      authDispatch({\n        type: 'SIGN_OUT'\n      });\n      Router.push('/');\n    }\n  };\n\n  var resetSearch = function resetSearch(selectedMenu) {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: 'RESET'\n    });\n  };\n\n  var NavItem = function NavItem(item) {\n    return __jsx(NavLink, {\n      key: item.link,\n      onClick: function onClick() {\n        return resetSearch(item);\n      },\n      className: \"menu-item\",\n      href: item.link,\n      label: item.label,\n      icon: item.icon,\n      iconClass: \"menu-item-icon\"\n    });\n  };\n\n  var handleToggleLanguage = function handleToggleLanguage(e) {\n    toggleLanguage(e.target.value);\n  };\n\n  var LanguageMenu = function LanguageMenu(item) {\n    return __jsx(LanguageItem, {\n      onClick: handleToggleLanguage,\n      key: item.id,\n      value: item.id\n    }, __jsx(\"span\", null, item.icon), __jsx(FormattedMessage, {\n      id: item.intlLangName,\n      defaultMessage: item.label\n    }));\n  };\n\n  var signInOutForm = function signInOutForm() {\n    authDispatch({\n      type: 'SIGNIN'\n    });\n    openModal({\n      show: true,\n      overlayClassName: 'quick-view-overlay',\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: '',\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: 'quick-view-modal',\n        width: 458,\n        height: 'auto'\n      }\n    });\n  };\n\n  var isHomePage = pathname === HOME_PAGE || pathname === GROCERY_PAGE || pathname === CLOTHING || pathname === MAKEUP_PAGE || pathname === BOOK_PAGE || pathname === FURNITURE_PAGE || pathname === BAGS_PAGE;\n  return __jsx(HeaderWrapper, {\n    style: style,\n    className: className\n  }, __jsx(HeaderLeftSide, null, __jsx(Logo, {\n    onClick: function onClick() {\n      return resetSearch({\n        link: GROCERY_PAGE,\n        icon: __jsx(FruitsVegetable, null),\n        label: 'Grocery'\n      });\n    }\n  }, __jsx(Link, {\n    href: HOME_PAGE\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    src: Logoimage,\n    alt: \"pickbazar-admin\"\n  })))), __jsx(MainMenu, null, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, null, __jsx(\"span\", null, __jsx(TypeIcon, null, activeMenu.icon), __jsx(\"span\", null, activeMenu.label)), __jsx(DropDownArrow, null, __jsx(MenuDown, null))),\n    content: __jsx(React.Fragment, null, MenuArray.map(NavItem))\n  }))), isHomePage ? __jsx(SearchBox, {\n    className: \"headerSearch\",\n    handleSearch: function handleSearch(value) {\n      return _handleSearch(value);\n    },\n    onClick: handleClickSearchButton,\n    placeholder: \"Search anything...\",\n    hideType: true,\n    minimal: true,\n    showSvg: true,\n    style: {\n      width: '100%'\n    },\n    value: text || ''\n  }) : null, __jsx(HeaderRightSide, null, __jsx(NavLink, {\n    className: \"menu-item\",\n    href: OFFER_PAGE,\n    label: \"Offer\",\n    intlId: \"navlinkOffer\"\n  }), __jsx(NavLink, {\n    className: \"menu-item\",\n    href: HELP_PAGE,\n    label: \"Need Help\",\n    intlId: \"navlinkHelp\",\n    iconClass: \"menu-icon\",\n    icon: __jsx(HelpIcon, null)\n  }), __jsx(LangSwithcer, null, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedLang, null, __jsx(Flag, null, LanguageArray[selectedLangindex].icon), __jsx(\"span\", null, __jsx(FormattedMessage, {\n      id: LanguageArray[selectedLangindex].intlLangName,\n      defaultMessage: LanguageArray[selectedLangindex].label\n    }))),\n    content: __jsx(React.Fragment, null, LanguageArray.map(LanguageMenu))\n  })), !isAuthenticated ? __jsx(Button, {\n    onClick: signInOutForm,\n    size: \"small\",\n    title: \"Join\",\n    style: {\n      fontSize: 15,\n      color: '#fff'\n    },\n    intlButtonId: \"joinButton\"\n  }) : __jsx(Popover, {\n    direction: \"right\",\n    className: \"user-pages-dropdown\",\n    handler: __jsx(\"img\", {\n      src: UserImage,\n      alt: \"user\"\n    }),\n    content: __jsx(React.Fragment, null, DropDownMenuArray.map(function (item, idx) {\n      return __jsx(NavLink, {\n        key: idx,\n        className: \"menu-item\",\n        href: item.link,\n        label: item.label,\n        intlId: item.intlId\n      });\n    }), __jsx(\"div\", {\n      className: \"menu-item\",\n      onClick: handleLogout\n    }, __jsx(\"a\", null, __jsx(\"span\", null, __jsx(FormattedMessage, {\n      id: \"navlinkLogout\",\n      defaultMessage: \"Logout\"\n    })))))\n  })));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}