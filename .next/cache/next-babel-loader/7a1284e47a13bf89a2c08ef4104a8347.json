{"ast":null,"code":"import cookie from 'js-cookie';\nimport nextCookie from 'next-cookies';\nimport { isBrowser } from './isBrowser';\nexport var getCookieFromBrowser = function getCookieFromBrowser(key) {\n  return cookie.get(key);\n};\nexport var getCookieFromServer = function getCookieFromServer(ctx) {\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id_token';\n  var cookie = nextCookie(ctx);\n  var token = cookie && cookie[key] ? cookie[key] : false;\n\n  if (!token) {\n    return null;\n  }\n\n  return token;\n};\nexport var getCookie = function getCookie(key, context) {\n  return isBrowser ? getCookieFromBrowser(key) : getCookieFromServer(context, key);\n};\nexport var setCookie = function setCookie(key, token) {\n  cookie.set(key, token, {\n    expires: 7\n  });\n};\nexport var removeCookie = function removeCookie(key) {\n  cookie.remove(key);\n};","map":{"version":3,"sources":["E:/React Web Work/pickbazar/packages/shop/components/helpers/session.ts"],"names":["cookie","nextCookie","isBrowser","getCookieFromBrowser","key","get","getCookieFromServer","ctx","token","getCookie","context","setCookie","set","expires","removeCookie","remove"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,GAAD,EAAsB;AACxD,SAAOJ,MAAM,CAACK,GAAP,CAAWD,GAAX,CAAP;AACD,CAFM;AAIP,OAAO,IAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAgC;AAAA,MAArBH,GAAqB,uEAAf,UAAe;AACjE,MAAMJ,MAAM,GAAGC,UAAU,CAACM,GAAD,CAAzB;AACA,MAAMC,KAAK,GAAGR,MAAM,IAAIA,MAAM,CAACI,GAAD,CAAhB,GAAwBJ,MAAM,CAACI,GAAD,CAA9B,GAAsC,KAApD;;AACA,MAAI,CAACI,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AACD,SAAOA,KAAP;AACD,CAPM;AASP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACL,GAAD,EAAcM,OAAd,EAAgC;AACvD,SAAOR,SAAS,GACZC,oBAAoB,CAACC,GAAD,CADR,GAEZE,mBAAmB,CAACI,OAAD,EAAUN,GAAV,CAFvB;AAGD,CAJM;AAMP,OAAO,IAAMO,SAAS,GAAG,SAAZA,SAAY,CAACP,GAAD,EAAcI,KAAd,EAA6B;AACpDR,EAAAA,MAAM,CAACY,GAAP,CAAWR,GAAX,EAAgBI,KAAhB,EAAuB;AAAEK,IAAAA,OAAO,EAAE;AAAX,GAAvB;AACD,CAFM;AAIP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACV,GAAD,EAAiB;AAC3CJ,EAAAA,MAAM,CAACe,MAAP,CAAcX,GAAd;AACD,CAFM","sourcesContent":["import cookie from 'js-cookie';\nimport nextCookie from 'next-cookies';\nimport { isBrowser } from './isBrowser';\n\nexport const getCookieFromBrowser = (key: string): any => {\n  return cookie.get(key);\n};\n\nexport const getCookieFromServer = (ctx: any, key = 'id_token') => {\n  const cookie = nextCookie(ctx);\n  const token = cookie && cookie[key] ? cookie[key] : false;\n  if (!token) {\n    return null;\n  }\n  return token;\n};\n\nexport const getCookie = (key: string, context?: any) => {\n  return isBrowser\n    ? getCookieFromBrowser(key)\n    : getCookieFromServer(context, key);\n};\n\nexport const setCookie = (key: string, token: any) => {\n  cookie.set(key, token, { expires: 7 });\n};\n\nexport const removeCookie = (key: string) => {\n  cookie.remove(key);\n};\n"]},"metadata":{},"sourceType":"module"}